# ═══════════════════════════════════════════════════════════════════════════════
# FNOL Agent - First Notice of Loss
# ═══════════════════════════════════════════════════════════════════════════════
# Insurance claim intake specialist for XYMZ Insurance
# Collects claim information and records FNOL (First Notice of Loss)
# ═══════════════════════════════════════════════════════════════════════════════

name: FNOLAgent
description: |
  Insurance First-Notice-of-Loss (FNOL) intake specialist. Collects claim
  information from callers who have experienced auto accidents, property
  damage, or other insured losses. Handles emergency escalation when needed.

greeting: "Hi, I'm here to help you file your claim. Take your time—what happened?"
return_greeting: "Welcome back. Let's continue with your claim. Where were we?"

# ─────────────────────────────────────────────────────────────────────────────
# Handoff Configuration
# ─────────────────────────────────────────────────────────────────────────────
handoff:
  trigger: handoff_fnol_agent      # Other agents call this to reach FNOLAgent

# ─────────────────────────────────────────────────────────────────────────────
# Model Configuration
# ─────────────────────────────────────────────────────────────────────────────
model:
  temperature: 0.6                   # Lower for consistent claim intake

# ─────────────────────────────────────────────────────────────────────────────
# Voice Configuration
# ─────────────────────────────────────────────────────────────────────────────
voice:
  name: en-US-AlloyTurboMultilingualNeural
  type: azure-standard
  rate: "-2%"

# ─────────────────────────────────────────────────────────────────────────────
# Session Configuration (VoiceLive-specific)
# ─────────────────────────────────────────────────────────────────────────────
session:
  modalities: [TEXT, AUDIO]
  input_audio_format: PCM16
  output_audio_format: PCM16

  input_audio_transcription_settings:
    model: gpt-4o-transcribe
    language: en-US

  turn_detection:
    type: azure_semantic_vad
    threshold: 0.5
    prefix_padding_ms: 240
    silence_duration_ms: 720

  tool_choice: auto

# ─────────────────────────────────────────────────────────────────────────────
# Tools (referenced by name from shared registry)
# ─────────────────────────────────────────────────────────────────────────────
tools:
  # Core FNOL Tools
  - record_fnol                      # Record First Notice of Loss claim
  
  # Handoffs
  - handoff_to_general_info_agent    # Non-claim inquiries (billing, renewals)
  - handoff_concierge                # Return to main menu
  
  # Escalation
  - escalate_emergency               # Medical/fire/injury emergencies

# ─────────────────────────────────────────────────────────────────────────────
# Prompt (external Jinja file)
# ─────────────────────────────────────────────────────────────────────────────
prompt: prompt.jinja
