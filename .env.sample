# ============================================================================
# Environment Configuration Template for Real-Time Voice Agent Accelerator
# ============================================================================
# Copy this file to .env and replace with your actual values
# Or, allow `azd up` to generate one for you as part of the postprovisioning automation
#
# This template contains environment variables organized into categories:
#   - REQUIRED: Must be set for the application to function
#   - OPTIONAL: Has sensible defaults, can be customized for specific needs
#   - CONFIGURATION: Advanced tuning, typically unchanged unless specific requirements
#
# ============================================================================

# ============================================================================
# Azure Identity & Tenant Configuration (Required)
# ============================================================================
AZURE_TENANT_ID=12345678-1234-1234-1234-123456789abc                    # Required: Azure Active Directory tenant ID
AZURE_CLIENT_ID=your-azure-client-id                                     # Optional: Azure client ID for service principal auth
BACKEND_AUTH_CLIENT_ID=your-backend-auth-client-id                       # Required: Backend authentication client ID

# ============================================================================
# Application Insights & Monitoring (Required)
# ============================================================================
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=12345678-1234-1234-1234-123456789abc;IngestionEndpoint=https://region.in.applicationinsights.azure.com/;LiveEndpoint=https://region.livediagnostics.monitor.azure.com/;ApplicationId=12345678-1234-1234-1234-123456789abc  # Required: Azure Application Insights connection string for telemetry
AZURE_MONITOR_DISABLE_LIVE_METRICS=false                                 # Optional: Disable live metrics collection (default: false)

# ============================================================================
# Pool Configuration for High Performance & Scale (Optimized for Production)
# ============================================================================
# Azure OpenAI Client Pool (Production Optimized)
AOAI_POOL_ENABLED=true                                                   # Optional: Enable AOAI client pool for concurrency (default: true)
AOAI_POOL_SIZE=50                                                        # Optional: Number of AOAI client instances (default: 10, production: 50+)
AOAI_USE_SESSION_POOL=true                                               # Optional: Use session-specific client allocation (default: true)
AOAI_POOL_DEBUG=false                                                    # Optional: Enable detailed pool performance logging (default: false)

# TTS Client Pool (Optimized for 100+ Concurrent Sessions)
POOL_SIZE_TTS=100                                                        # Optional: TTS client pool size (default: 50, production: 100+)
TTS_POOL_PREWARMING_ENABLED=true                                         # Optional: Enable TTS pool prewarming (default: true)

# STT Client Pool (Coordinated with TTS Pool)
POOL_SIZE_STT=100                                                        # Optional: STT client pool size (default: 50, production: 100+)
STT_POOL_PREWARMING_ENABLED=true                                         # Optional: Enable STT pool prewarming (default: true)

# Pool Performance Tuning
POOL_PREWARMING_BATCH_SIZE=10                                            # Optional: Batch size for pool prewarming (default: 10)
CLIENT_MAX_AGE_SECONDS=3600                                              # Optional: Maximum age for pooled clients in seconds (default: 3600)
CLEANUP_INTERVAL_SECONDS=180                                             # Optional: Cleanup interval for expired clients (default: 180)
POOL_LOW_WATER_MARK=10                                                   # Optional: Pool low water mark threshold (default: 10)
POOL_HIGH_WATER_MARK=45                                                  # Optional: Pool high water mark threshold (default: 45)
POOL_ACQUIRE_TIMEOUT=5.0                                                 # Optional: Pool acquire timeout in seconds (default: 5.0)

# Voice Live Pool (Optional - for Azure Voice Live integration)
POOL_SIZE_VOICE_LIVE=8                                                   # Optional: Voice Live pool size (default: 8)
VOICE_LIVE_POOL_PREWARMING_ENABLED=true                                  # Optional: Enable Voice Live pool prewarming (default: true)
VOICE_LIVE_PREWARMING_BATCH_SIZE=4                                       # Optional: Voice Live prewarming batch size (default: 4)
VOICE_LIVE_AGENT_YAML=apps/artagent/backend/src/agents/vlagents/agents_store/agent.yaml  # Optional: Voice Live agent config path

# ============================================================================
# Azure OpenAI Configuration (Required)
# ============================================================================
AZURE_OPENAI_KEY=your-azure-openai-api-key                               # Required: Azure OpenAI API key
AZURE_OPENAI_ENDPOINT=https://your-openai-resource.openai.azure.com/     # Required: Azure OpenAI service endpoint
AZURE_OPENAI_DEPLOYMENT=o3-mini                                          # Optional: Default deployment name (default: varies by model)
AZURE_OPENAI_API_VERSION=2024-12-01-preview                              # Optional: API version (default: latest stable)
AZURE_OPENAI_CHAT_DEPLOYMENT_ID=gpt-4o                                   # Required: Chat completion deployment ID
AZURE_OPENAI_CHAT_DEPLOYMENT_VERSION=2024-10-01-preview                  # Optional: Chat deployment version

# Additional Azure OpenAI Model Deployments (Optional)
AZURE_OPENAI_CHAT_DEPLOYMENT_01=o1-preview                               # Optional: Alternative chat deployment (used by specific agents)
AZURE_OPENAI_API_KEY=your-azure-openai-api-key                           # Optional: Alternative name for AZURE_OPENAI_KEY (legacy)

# Azure OpenAI Advanced Configuration (Optional - for fine-tuning LLM behavior)
DEFAULT_TEMPERATURE=0.7                                                  # Optional: Default LLM temperature for response randomness (default: 0.7, range: 0.0-2.0)
DEFAULT_MAX_TOKENS=500                                                   # Optional: Default maximum tokens per response (default: 500)

# Azure OpenAI Retry & Timeout Configuration (Optional - for resilience)
AOAI_RETRY_MAX_ATTEMPTS=4                                                # Optional: Maximum retry attempts for failed AOAI requests (default: 4)
AOAI_MAX_RETRIES=5                                                       # Optional: Maximum retries for pool client operations (default: 5)
AOAI_TIMEOUT=10.0                                                        # Optional: AOAI pool client timeout in seconds (default: 10.0)
AOAI_REQUEST_TIMEOUT=30.0                                                # Optional: AOAI request timeout in seconds (default: 30.0)

# ============================================================================
# Azure Speech Services Configuration (Required)
# ============================================================================
# For transcription, require a speech endpoint with a custom domain (not the generic regional endpoint)
AZURE_SPEECH_ENDPOINT=https://your-speech-resource.cognitiveservices.azure.com/  # Required: Custom domain Speech endpoint
AZURE_SPEECH_KEY=your-azure-speech-service-key                           # Required: Speech service API key
AZURE_SPEECH_RESOURCE_ID=/subscriptions/12345678-1234-1234-1234-123456789abc/resourceGroups/your-resource-group/providers/Microsoft.CognitiveServices/accounts/your-speech-resource  # Required: Full resource ID for Speech service
AZURE_SPEECH_REGION=your-region                                          # Required: Azure region for Speech service
SPEECH_RECOGNIZER_DEFAULT_PHRASES=contoso,fabrikam,adatum               # Optional: Comma-separated list of phrases to bias recognition towards

# Legacy Speech Service Fallback (Optional - for backward compatibility)
AZURE_OPENAI_STT_TTS_ENDPOINT=https://your-speech-resource.cognitiveservices.azure.com/  # Optional: Legacy STT/TTS endpoint
AZURE_OPENAI_STT_TTS_KEY=your-azure-speech-service-key                   # Optional: Legacy STT/TTS key

# ============================================================================
# Azure Voice Live Integration (Optional - for Azure Voice Live API)
# ============================================================================
AZURE_VOICE_LIVE_ENDPOINT=https://your-voice-live-endpoint.voice.azure.com/  # Optional: Azure Voice Live API endpoint
AZURE_VOICE_LIVE_API_KEY=your-voice-live-api-key                         # Optional: Azure Voice Live API key
AZURE_VOICE_API_KEY=your-voice-api-key                                   # Optional: Alternative name for AZURE_VOICE_LIVE_API_KEY (legacy compatibility)
AZURE_VOICE_LIVE_MODEL=gpt-4o                                            # Optional: Voice Live model deployment (default: gpt-4o)
AZURE_VOICE_LIVE_API_VERSION=2024-10-01-preview                          # Optional: Voice Live API version

# Azure AI Foundry Integration (Optional)
AZURE_AI_FOUNDRY_ENDPOINT=https://your-foundry-endpoint.services.ai.azure.com/api/projects/your-project  # Optional: AI Foundry project endpoint
AZURE_AI_FOUNDRY_URL=https://your-foundry-endpoint.services.ai.azure.com/api/projects/your-project       # Optional: Alternative name for AZURE_AI_FOUNDRY_ENDPOINT (legacy)
AI_FOUNDRY_PROJECT_NAME=your-ai-foundry-project                          # Optional: AI Foundry project name
AI_FOUNDRY_AGENT_ID=your-ai-foundry-agent-id                            # Optional: AI Foundry agent ID
# ============================================================================
# Base URL Configuration (Required for Webhooks)
# ============================================================================
# Your Dev Tunnel base URL or public endpoint
BASE_URL=https://your-tunnel-url.devtunnels.ms                           # Required: Public base URL for webhooks and callbacks

# ============================================================================
# TTS Configuration (Optional)
# ============================================================================
TTS_ENABLE_LOCAL_PLAYBACK=false                                          # Optional: Enable local audio playback for testing (default: false)

# ============================================================================
# Azure Communication Services (ACS) Configuration (Required for Telephony)
# ============================================================================
ACS_CONNECTION_STRING=endpoint=https://your-acs-resource.communication.azure.com/;accesskey=your-acs-access-key  # Required: ACS connection string
ACS_SOURCE_PHONE_NUMBER=+1234567890                                      # Required: Source phone number for outbound calls
ACS_ENDPOINT=https://your-acs-resource.communication.azure.com           # Required: ACS endpoint URL
ACS_AUDIENCE=your-acs-immutable-resource-id                              # Optional: ACS Immutable Resource ID for JWT validation
ACS_STREAMING_MODE=media                                                  # Optional: Streaming mode (media/voice_live) (default: media)

# Azure Communication Services - SMS Configuration (Required for MFA)
AZURE_COMMUNICATION_SMS_CONNECTION_STRING=endpoint=https://your-acs-resource.communication.azure.com/;accesskey=your-acs-access-key  # Required: ACS SMS connection string  
AZURE_SMS_FROM_PHONE_NUMBER=+1234567890                                  # Required: ACS phone number for sending SMS (same as ACS_SOURCE_PHONE_NUMBER)

# Azure Communication Services - Email Configuration (Required for MFA)  
AZURE_COMMUNICATION_EMAIL_CONNECTION_STRING=endpoint=https://your-acs-email-resource.communication.azure.com/;accesskey=your-acs-email-key  # Required: ACS Email connection string
AZURE_EMAIL_SENDER_ADDRESS=noreply@your-domain.azurecomm.net    
AZURE_SMS_FROM_PHONE_NUMBER=<your_acs_verified_phone_number>         # Required: Verified sender email address

# ============================================================================
# Redis Configuration (Required for Session Management)
# ============================================================================
REDIS_HOST=your-redis-host.redis.azure.net                              # Required: Redis hostname
REDIS_PORT=6380                                                          # Optional: Redis port (default: 6380 for Azure Redis with SSL)
REDIS_PASSWORD=your-redis-password                                       # Required: Redis password (also accepts REDIS_ACCESS_KEY as alias)
REDIS_ACCESS_KEY=your-redis-access-key                                   # Optional: Alternative name for REDIS_PASSWORD (legacy compatibility)

# Redis Advanced Configuration (Optional - for enterprise scenarios)
REDIS_USE_CLUSTER=false                                                  # Optional: Enable Redis cluster mode (default: false)
REDIS_SCOPE=https://redis.azure.com/.default                             # Optional: OAuth scope for Azure Redis RBAC authentication (default: https://redis.azure.com/.default)
REDIS_USER_NAME=user                                                     # Optional: Redis username for RBAC authentication (default: user)
REDIS_READ_FROM_REPLICAS=false                                           # Optional: Enable reading from Redis replicas (default: false)

# ============================================================================
# Azure Storage Configuration (Required for Recording Storage)
# ============================================================================
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=yourstorageaccount;AccountKey=your-storage-key;EndpointSuffix=core.windows.net  # Required: Storage account connection string
AZURE_STORAGE_CONTAINER_URL=https://yourstorageaccount.blob.core.windows.net/your-container  # Required: Blob container URL for recordings
AZURE_STORAGE_ACCOUNT_NAME=yourstorageaccount                            # Optional: Storage account name
AZURE_STORAGE_ACCOUNT_KEY=your-storage-account-key                       # Optional: Storage account key (alternative to connection string)
AZURE_BLOB_CONTAINER=acs                                                 # Optional: Blob container name for recordings (default: acs)

# ============================================================================
# Azure Cosmos DB Configuration (Required for Data Persistence)
# ============================================================================
AZURE_COSMOS_DATABASE_NAME=your-database-name                            # Required: Cosmos DB database name
AZURE_COSMOS_COLLECTION_NAME=your-collection-name                        # Required: Cosmos DB collection name
AZURE_COSMOS_CONNECTION_STRING=mongodb+srv://your-cosmos-account.mongocluster.cosmos.azure.com/?tls=true&authMechanism=MONGODB-OIDC&retrywrites=false&maxIdleTimeMS=120000  # Required: Cosmos DB MongoDB connection string
AZURE_COSMOS_CLUSTER_NAME=your-cosmos-cluster-name                       # Optional: Cosmos DB cluster name (for vCore clusters)
COSMOS_CONNECTION_STRING=your-cosmos-connection-string                   # Optional: Alternative name for AZURE_COSMOS_CONNECTION_STRING (legacy compatibility)
COSMOS_DB_ENDPOINT=                                                      # Optional: Cosmos DB endpoint (alternative to connection string)

# Additional Cosmos DB for RAG & Vector Search (Optional)
AZURE_COSMOS_DATABASE_NAME_RAG=your-rag-database-name                    # Optional: Cosmos DB database name for RAG data
AZURE_COSMOS_COLLECTION_NAME_RAG=your-rag-collection-name                # Optional: Cosmos DB collection name for RAG data
AZURE_COSMOS_VECTOR_INDEX_NAME=your-vector-index-name                    # Optional: Cosmos DB vector index name for semantic search
COSMOS_VECTOR_INDEX_NAME=your-vector-index-name                          # Optional: Alternative name for AZURE_COSMOS_VECTOR_INDEX_NAME
COSMOS_VECTOR_INDEX=your-vector-index                                    # Optional: Alternative name for vector index
VOICELIVE_KB_VECTOR_INDEX=your-voicelive-kb-index                        # Optional: Voice Live knowledge base vector index name
COSMOS_DATABASE=your-cosmos-database                                     # Optional: Alternative name for AZURE_COSMOS_DATABASE_NAME (legacy)

# ============================================================================
# Azure Resource Configuration (Required for Deployment)
# ============================================================================
AZURE_SUBSCRIPTION_ID=12345678-1234-1234-1234-123456789abc               # Required: Azure subscription ID
AZURE_RESOURCE_GROUP=your-resource-group                                 # Required: Azure resource group name
AZURE_LOCATION=your-region                                               # Required: Azure region/location

# ============================================================================
# Azure AI Search & Embeddings Configuration (Optional - for RAG scenarios)
# ============================================================================
AZURE_SEARCH_SERVICE_NAME=your-search-service                            # Optional: Azure AI Search service name
AZURE_SEARCH_INDEX_NAME=your-search-index                                # Optional: Azure AI Search index name  
AZURE_AI_SEARCH_ADMIN_KEY=your-search-admin-key                          # Optional: Azure AI Search admin key
AZURE_AI_SEARCH_SERVICE_ENDPOINT=https://your-search-service.search.windows.net  # Optional: Azure AI Search endpoint
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-large                 # Optional: Azure OpenAI embedding model deployment name
EMBEDDINGS_MODEL_DEPLOYMENT_NAME=text-embedding-3-large                  # Optional: Alternative name for embedding deployment (legacy)

# ============================================================================
# Application Configuration (Required)
# ============================================================================
ENVIRONMENT=development                                                   # Required: Environment type (development/staging/production)
ENV=dev                                                                  # Optional: Alternative environment identifier (dev/prod) - used by some telemetry components (default: dev)
LOG_LEVEL=INFO                                                           # Optional: Logging level (DEBUG/INFO/WARNING/ERROR) (default: INFO)
PORT=8080                                                                # Optional: Server port for the application (default: 8080)
ORCHESTRATOR_PRESET=production                                           # Optional: Orchestrator mode (production/development) - affects handler registration (default: production)

# ============================================================================
# Feature Flags & Validation (Optional)
# ============================================================================
DTMF_VALIDATION_ENABLED=false                                            # Optional: Enable DTMF validation (default: false)
ENABLE_AUTH_VALIDATION=false                                             # Optional: Enable authentication validation (default: false)
ENABLE_ACS_CALL_RECORDING=false                                          # Optional: Enable ACS call recording (default: false)
DEBUG=false                                                              # Optional: Enable debug mode (default: false)
ENABLE_DOCS=auto                                                         # Optional: Enable API documentation (auto/true/false) (default: auto)
ENABLE_PERFORMANCE_LOGGING=true                                          # Optional: Enable performance logging (default: true)
ENABLE_TRACING=true                                                      # Optional: Enable distributed tracing (default: true)
TTS_ENABLE_LOCAL_PLAYBACK=false                                          # Optional: Enable local audio playback for testing (default: false)

# ================================================
# AGENT BRANDING CONFIGURATION (Optional)
# ================================================
# Customize agent name and institution for voice greetings in different deployments
# These values are injected into agent YAML greeting templates via Jinja2
# Example template: "Hi, I'm {{ agent_name | default('Erica') }}, your {{ institution_name | default('Bank of America') }} assistant"
# If not provided, agent YAMLs use their own default values specified in the templates
AGENT_NAME=Erica                                                         # Optional: Agent/Assistant name for voice greetings (default: per agent YAML)
INSTITUTION_NAME=Bank of America                                         # Optional: Institution/Company name for voice greetings (default: per agent YAML)

# Cosmos DB Financial Data (Usecase-Scoped per Institution)
# ================================================
# These databases are specific to each banking institution/usecase
# Different institutions use different databases to isolate customer profiles and financial data
# Examples:
#   - Bank of America:        COSMOS_FINANCIAL_DATABASE=bofa_db
#   - Bank of New York Mellon: COSMOS_FINANCIAL_DATABASE=bony_db
#   - Wells Fargo:            COSMOS_FINANCIAL_DATABASE=wellsfargo_db
COSMOS_FINANCIAL_DATABASE=bofa_db                                        # Required: Cosmos DB database name for financial demo profiles (usecase-scoped)
COSMOS_FINANCIAL_USERS_CONTAINER=users                                   # Required: Cosmos DB container name for user profiles (default: users)

# Granular Tracing Configuration (Optional - for fine-grained observability)
GPT_FLOW_TRACING=true                                                    # Optional: Enable GPT flow tracing for LLM interactions (default: true)
STREAM_TRACING=false                                                     # Optional: Enable stream tracing - HIGH FREQUENCY, use for debugging only (default: false)
ORCHESTRATOR_TRACING=true                                                # Optional: Enable orchestrator tracing for workflow tracking (default: true)
HIGH_FREQ_SAMPLING=0.1                                                   # Optional: Sampling rate for high-frequency traces (0.0-1.0) (default: 0.1 = 10%)
AOAI_TRACING=false                                                       # Optional: Enable AOAI-specific tracing (default: false)

# Telemetry Configuration (Optional)
DISABLE_CLOUD_TELEMETRY=false                                            # Optional: Disable ALL cloud telemetry - for local dev/testing only (default: false)
AZURE_MONITOR_LOGGER_NAME=default                                        # Optional: Azure Monitor logger name override (default: default)
WEBSITE_SITE_NAME=                                                       # Optional: Azure App Service name - auto-detected by Azure, do not set manually
CONTAINER_APP_NAME=                                                      # Optional: Azure Container Apps name - auto-detected by Azure, do not set manually

# ============================================================================
# Voice & Speech Configuration (Optional)
# ============================================================================
# Agent Configuration Paths (Optional - system uses defaults if not specified)
AGENT_AUTH_CONFIG=apps/artagent/backend/src/agents/stiched_agents/agent_store/auth_agent.yaml  # Optional: Authentication agent configuration file path
AGENT_CLAIM_INTAKE_CONFIG=apps/artagent/backend/src/agents/stiched_agents/agent_store/claim_intake_agent.yaml  # Optional: Claim intake agent configuration path
AGENT_FRAUD_CONFIG=apps/artagent/backend/src/agents/stiched_agents/agent_store/fraud_agent.yaml                # Optional: Fraud detection agent configuration path
AGENT_AGENCY_CONFIG=apps/artagent/backend/src/agents/stiched_agents/agent_store/agency_agent.yaml              # Optional: Transfer agency agent configuration path
AGENT_COMPLIANCE_CONFIG=apps/artagent/backend/src/agents/stiched_agents/agent_store/compliance_agent.yaml      # Optional: Compliance agent configuration path
AGENT_TRADING_CONFIG=apps/artagent/backend/src/agents/stiched_agents/agent_store/trading_agent.yaml            # Optional: Trading agent configuration path

# Call Transfer Configuration (Optional - for agent handoff scenarios)
CALL_CENTER_TRANSFER_TARGET=+12345678900                                 # Optional: Default phone number for call center transfers
VOICELIVE_CALL_CENTER_TARGET=+12345678900                                # Optional: Alternative call center transfer target for Voice Live

# TTS Voice Settings
GREETING_VOICE_TTS=en-US-EmmaMultilingualNeural                           # Optional: Default TTS voice (extracted from agent config)
DEFAULT_VOICE_STYLE=neutral                                              # Optional: Default voice style (default: neutral)
DEFAULT_VOICE_RATE=0%                                                    # Optional: Default voice rate (default: 0%)

# TTS Audio Format
TTS_SAMPLE_RATE_UI=48000                                                 # Optional: TTS sample rate for UI (default: 48000)
TTS_SAMPLE_RATE_ACS=16000                                                # Optional: TTS sample rate for ACS (default: 16000)
TTS_CHUNK_SIZE=1024                                                      # Optional: TTS chunk size (default: 1024)
TTS_PROCESSING_TIMEOUT=8.0                                               # Optional: TTS processing timeout in seconds (default: 8.0)

# STT Configuration
STT_PROCESSING_TIMEOUT=10.0                                              # Optional: STT processing timeout in seconds (default: 10.0)
RECOGNIZED_LANGUAGE=en-US,es-ES,fr-FR,ko-KR,it-IT,pt-PT,pt-BR            # Optional: Supported languages for recognition
SPEECH_RECOGNIZER_DEFAULT_PHRASES=contoso,fabrikam,adatum               # Optional: Comma-separated list of phrases to bias recognition towards (also set in Azure Speech Config)
SPEECH_RECOGNIZER_COSMOS_BIAS_LIMIT=500                                  # Optional: Maximum phrases to load from Cosmos for speech recognition bias (default: 500)

# VAD (Voice Activity Detection) Settings
VAD_SEMANTIC_SEGMENTATION=false                                          # Optional: Enable semantic segmentation for VAD (default: false)
SILENCE_DURATION_MS=1300                                                 # Optional: Silence duration for VAD in milliseconds (default: 1300)
AUDIO_FORMAT=pcm                                                         # Optional: Audio format (default: pcm)

# ============================================================================
# Connection & Session Management (Optional)
# ============================================================================
# WebSocket Connection Limits
MAX_WEBSOCKET_CONNECTIONS=200                                            # Optional: Maximum WebSocket connections (default: 200)
CONNECTION_QUEUE_SIZE=50                                                 # Optional: Connection queue size (default: 50)
ENABLE_CONNECTION_LIMITS=true                                            # Optional: Enable connection limits (default: true)

# Connection Monitoring Thresholds
CONNECTION_WARNING_THRESHOLD=150                                         # Optional: Warning threshold for connections (default: 150)
CONNECTION_CRITICAL_THRESHOLD=180                                        # Optional: Critical threshold for connections (default: 180)

# Connection Timeout Settings
CONNECTION_TIMEOUT_SECONDS=300                                           # Optional: Connection timeout in seconds (default: 300)
HEARTBEAT_INTERVAL_SECONDS=30                                            # Optional: Heartbeat interval in seconds (default: 30)

# Session Management
SESSION_TTL_SECONDS=1800                                                 # Optional: Session TTL in seconds (default: 1800)
SESSION_CLEANUP_INTERVAL=300                                             # Optional: Session cleanup interval in seconds (default: 300)
MAX_CONCURRENT_SESSIONS=1000                                             # Optional: Maximum concurrent sessions (default: 1000)
ENABLE_SESSION_PERSISTENCE=true                                          # Optional: Enable session persistence (default: true)
SESSION_STATE_TTL=86400                                                  # Optional: Session state TTL in seconds (default: 86400 = 24 hours)

# ============================================================================
# Performance & Monitoring Configuration (Optional)
# ============================================================================
# Metrics Collection
METRICS_COLLECTION_INTERVAL=60                                           # Optional: Metrics collection interval in seconds (default: 60)
POOL_METRICS_INTERVAL=30                                                 # Optional: Pool metrics interval in seconds (default: 30)

# ============================================================================
# Media Realtime Orchestrator Configuration (Optional - Advanced Performance Tuning)
# ============================================================================
# Audio Processing Limits (api/v1/handlers/acs_media_handler.py)
MAX_CONCURRENT_AUDIO_TASKS=50                                            # Optional: Max concurrent audio tasks (default: 50, reduced from 500 for better performance)
MAX_EMERGENCY_AUDIO_TASKS=100                                            # Optional: Emergency threshold for audio tasks (default: 100)
AUDIO_PROCESSING_TIMEOUT_MS=50                                           # Optional: Audio processing timeout per chunk in milliseconds (default: 50)
AUDIO_BUFFER_SIZE=20                                                     # Optional: Emergency buffer size (default: 20)

# ============================================================================
# Security Configuration (Optional - for production deployments)
# ============================================================================
ALLOWED_ORIGINS=*                                                        # Optional: CORS allowed origins - use * for all or comma-separated list (default: *)
ALLOWED_CLIENT_IDS=                                                      # Optional: Comma-separated list of allowed client IDs for authentication
SECURE_DOCS_URL=                                                         # Optional: Secure documentation URL override
MSI_ENDPOINT=                                                            # Optional: Managed Identity endpoint - auto-detected by Azure, do not set manually
IDENTITY_ENDPOINT=                                                       # Optional: Azure Identity endpoint - auto-detected by Azure, do not set manually

# ============================================================================
# Development & Testing Configuration (Optional - for local development only)
# ============================================================================
SCENARIO=                                                                # Optional: Deployment scenario name for testing/provisioning scripts
CI=                                                                      # Optional: CI environment indicator - auto-detected by CI systems, do not set manually
DISPLAY=                                                                 # Optional: X11 display for Linux - auto-detected, do not set manually

# Latency Testing (Optional - only needed when running latency tests)
LAT_MAX_RUNS=200                                                         # Optional: Maximum latency measurement runs (default: 200)
LAT_MAX_SAMPLES_PER_RUN=200                                              # Optional: Maximum samples per latency run (default: 200)

# ============================================================================
# Load Testing Configuration (Optional - ONLY needed for load testing)
# ⚠️  DO NOT SET THESE IN PRODUCTION - These are for load testing tools only
# ============================================================================
WS_URL=                                                                  # Optional: WebSocket URL for load tests - leave empty in production
WS_IGNORE_CLOSE_EXCEPTIONS=true                                          # Optional: Ignore WebSocket close exceptions during load tests (default: true)
PCM_DIR=tests/load/audio_cache                                           # Optional: Directory for cached PCM audio files (default: tests/load/audio_cache)
SAMPLE_RATE=16000                                                        # Optional: Audio sample rate in Hz (default: 16000)
BYTES_PER_SAMPLE=2                                                       # Optional: Bytes per audio sample - 1=PCM8, 2=PCM16LE (default: 2)
CHANNELS=1                                                               # Optional: Audio channels - 1=mono, 2=stereo (default: 1)
CHUNK_MS=20                                                              # Optional: Audio chunk size in milliseconds (default: 20)
TURNS_PER_USER=3                                                         # Optional: Number of conversation turns per test user (default: 3)
CHUNKS_PER_TURN=100                                                      # Optional: Audio chunks per turn (default: 100, ~2 seconds @20ms)
TURN_TIMEOUT_SEC=15.0                                                    # Optional: Maximum turn duration in seconds (default: 15.0)
TURN_DURATION_SEC=60.0                                                   # Optional: Active audio duration per turn in seconds (default: 60.0)
PAUSE_BETWEEN_TURNS_SEC=1.5                                              # Optional: Pause between turns in seconds (default: 1.5)
FIRST_BYTE_TIMEOUT_SEC=5.0                                               # Optional: Maximum wait for first server response byte (default: 5.0)
BARGE_QUIET_MS=400                                                       # Optional: Silence duration to detect barge-in completion (default: 400)
BARGE_REENTRY_MS=1000                                                    # Optional: Wait time before re-entering after barge-in (default: 1000)
BARGE_CHUNKS=20                                                          # Optional: Audio chunks to send for barge-in test (default: 20)
RESPONSE_TOKENS=recognizer,greeting,response,transcript,result           # Optional: Keywords to detect response start (default: recognizer,greeting,response,transcript,result)
END_TOKENS=final,end,completed,stopped,barge                             # Optional: Keywords to detect response end (default: final,end,completed,stopped,barge)
MIN_CONVERSATION_DURATION_SEC=60.0                                       # Optional: Minimum conversation duration in seconds (default: 60.0)
WS_OPERATION_TIMEOUT_SEC=60.0                                            # Optional: WebSocket operation timeout in seconds (default: 60.0)
USER=                                                                    # Optional: System username - auto-detected, used in testing scenarios
USERNAME=                                                                # Optional: Alternative system username - auto-detected
